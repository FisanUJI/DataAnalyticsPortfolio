"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2220],{29264:(e,t,a)=>{a.d(t,{Y:()=>n});var r=a(406029),s=a(455729),i=a(159524);let n=e=>{let[t,a]=(0,s.useState)({});return(0,r.jsx)(i.V.Provider,{value:{...t,updateStoryContext:e=>{a(t=>({...t,...e}))}},children:e.children})}},155022:(e,t,a)=>{a.d(t,{w:()=>s,z:()=>r});let r=(e,t,a)=>a.indexOf(e)===t,s=e=>[...new Set(e)]},159524:(e,t,a)=>{a.d(t,{E:()=>i,V:()=>s});var r=a(455729);let s=(0,r.createContext)({toggleDesignPanelHook:()=>{},updateStoryContext:()=>{},storyLogo:{src:"https://example.org/logo.png",link:"https://example.org",alt:"alt",shouldShowLogoInHeader:!0,shouldShowLogoOnCover:!1}}),i=()=>(0,r.useContext)(s)},178616:(e,t,a)=>{a.d(t,{FK:()=>s,FU:()=>i,YX:()=>n});var r=a(231879);let s=async e=>{let t,{imgUrl:s,fallbackImgUrl:i,allowCrossOriginImages:n,ctx:o,dx:c,dy:l,dwidthNoMargin:d,dheightNoMargin:m,leftMargin:u=0,rightMargin:y=0,topMargin:f=0,bottomMargin:h=0,shouldUseSmartCrop:p}=e;try{t=await (0,r.yt)(s,n)}catch(e){if(i)try{t=await (0,r.yt)(i,n)}catch(e){throw Error(e)}else throw Error(e)}if(t){let e=d-u-y,r=m-f-h,s=0,i=0,n=t.width,x=t.height,g=t.width/e,w=t.height/r;if(g<w?(i=t.height/2-r/2*g,x=r*g):(s=t.width/2-e/2*w,n=e*w),p){let e=document.createElement("canvas"),r=e.getContext("2d");e.width=t.naturalWidth,e.height=t.naturalHeight,r?.drawImage(t,0,0);let o=(await a.e(53922).then(a.t.bind(a,553922,23))).default,{topCrop:c}=await o.crop(e,{width:n,height:x});s=c.x,i=c.y}o.drawImage(t,s,i,n,x,c+u-y,l+f-h,e,r)}},i=function(e){let t,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"non-transparent",s=0,i=0,n=0,o=0,c=0,l=0,d=0,m=0,{width:u,height:y}=e.canvas;if(u||y){for(i=0,t=new Uint32Array(e.getImageData(0,0,u,y).data.buffer),d=0,m=u*y-1,a=!1;i<y&&!a;i+=1){for(s=0;s<u;s+=1)if(("non-transparent"===r?t[d++]:0xffffffff!==t[d++])&&!n&&(n=i+1,c)||("non-transparent"===r?t[m--]:0xffffffff!==t[m--])&&!c&&(c=y-i-1,n)){a=!0;break}if(i>y-i&&!n&&!c)return}for(n-=1,a=!1,s=0;s<u&&!a;s+=1)for(d=n*u+s,m=n*u+(u-s-1),i=n;i<=c;i+=1){if(("non-transparent"===r?t[d]:0xffffffff!==t[d])&&!l&&(l=s+1,o)||("non-transparent"===r?t[m]:0xffffffff!==t[m])&&!o&&(o=u-s-1,l)){a=!0;break}d+=u,m+=u}if(u!==o-(l-=1)+1||y!==c-n+1)return u=o-l+1,y=c-n+1,t=e.getImageData(l,n,u,y),e.canvas.width=u,e.canvas.height=y,e.putImageData(t,0,0),e}},n=e=>{let{size:t,text:a,textColor:r,font:s,textBaseline:n="alphabetic"}=e,o=document.createElement("canvas").getContext("2d");return o.canvas.width=t*window.devicePixelRatio*3,o.canvas.height=t*window.devicePixelRatio*3,o.fillStyle=r,o.font=s,o.textBaseline=n,o.fillText(a,o.canvas.width/3,o.canvas.height/3),i(o),o.canvas.toDataURL("image/png")}},240188:(e,t,a)=>{a.d(t,{k:()=>u});var r=a(406029),s=a(94588),i=a.n(s),n=a(332988),o=a.n(n),c=a(459358),l=a(638096);class d extends l.I{constructor(e){super(e,{iconName:"twitter",path:"M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z",viewBox:"0 0 1200 1227",fill:"none"})}}var m=a(419688);let u=e=>{let t={styles:(0,r.jsx)(i(),{id:"ffefa5f7fb5cdd93",dynamic:[c.Ay.spacing.custom("0.005rem"),c.Ay.spacing.custom("0.005rem")],children:`.twitter.__jsx-style-dynamic-selector{-webkit-transform:scale(.59)translate(${c.Ay.spacing.custom("0.005rem")},${c.Ay.spacing.custom("0.005rem")});-moz-transform:scale(.59)translate(${c.Ay.spacing.custom("0.005rem")},${c.Ay.spacing.custom("0.005rem")});-ms-transform:scale(.59)translate(${c.Ay.spacing.custom("0.005rem")},${c.Ay.spacing.custom("0.005rem")});-o-transform:scale(.59)translate(${c.Ay.spacing.custom("0.005rem")},${c.Ay.spacing.custom("0.005rem")});transform:scale(.59)translate(${c.Ay.spacing.custom("0.005rem")},${c.Ay.spacing.custom("0.005rem")})}`}),className:i().dynamic([["ffefa5f7fb5cdd93",[c.Ay.spacing.custom("0.005rem"),c.Ay.spacing.custom("0.005rem")]]])};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:i().dynamic([["bb7211a38199bd95",[m.pm]]])+" twitter-field",children:(0,r.jsx)(d,{...e,className:o()("twitter",t.className)})}),(0,r.jsx)(i(),{id:"bb7211a38199bd95",dynamic:[m.pm],children:`.twitter-field.__jsx-style-dynamic-selector{${m.pm}            background-color: black}`}),t.styles]})}},419688:(e,t,a)=>{a.d(t,{MH:()=>n,Sc:()=>l,dv:()=>d,pm:()=>o,u0:()=>c});var r=a(459358),s=a(856097),i=a(914367);let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Ay.spacing.xxs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Ay.color.white;return{verticalAlignment:"unset",fill:t,width:e,height:e}},o=`border-radius: 50%;
    display: inline-block;
    ${s.Ay.center()}`,c=300,l=async(e,t)=>await (0,i.L$)({longUrl:e,shouldUseShortUrl:!t}),d=async(e,t,a,r)=>{let s=await l(e,r)||e;await (0,i.eE)({url:s,toast:t,itemType:a})}},551339:(e,t,a)=>{a.d(t,{$:()=>m,T:()=>d});var r=a(406029),s=a(94588),i=a.n(s),n=a(459358),o=a(638096);class c extends o.I{constructor(e){super(e,{iconName:"linked-in",path:"M10.7879181,5.80805242 C13.1907209,5.80805242 13.6337454,7.38855339 13.6337454,9.44468638 L13.6327576,13.633014 L11.262058,13.633014 L11.262058,9.92031839 C11.262058,9.03499089 11.2462533,7.89530152 10.0290472,7.89530152 C8.79430785,7.89530152 8.60539272,8.85990102 8.60539272,9.85586359 L8.60539272,13.632767 L6.23469309,13.632767 L6.23469309,5.99795949 L8.51056474,5.99795949 L8.51056474,7.04133708 L8.54242102,7.04133708 C9.00648414,6.24786461 9.86935231,5.77395524 10.7879181,5.80805242 Z M4.74510349,5.99795949 L4.74510349,13.633014 L2.37193437,13.633014 L2.37193437,5.99795949 L4.74510349,5.99795949 Z M3.55925979,2.20278154 C4.31906365,2.20264517 4.93511696,2.8184908 4.93525338,3.57831127 C4.93531885,3.94318994 4.79043735,4.29315015 4.53248112,4.55120465 C4.27452489,4.80925915 3.92462436,4.95426944 3.55975367,4.95433496 C2.7999498,4.95447131 2.18389652,4.33862567 2.18376011,3.57880519 C2.18362375,2.81898472 2.79945592,2.20291795 3.55925979,2.20278154 Z",viewBox:"0 2 16 11"})}}var l=a(419688);let d="#0a66c2",m=e=>(0,r.jsxs)("div",{className:i().dynamic([["501aceeee6b90bb6",[l.pm,e.fill===d?n.Ay.color.white:d,n.Ay.spacing.xxxxxs]]])+" linkedin-field",children:[(0,r.jsx)(c,{...e}),(0,r.jsx)(i(),{id:"501aceeee6b90bb6",dynamic:[l.pm,e.fill===d?n.Ay.color.white:d,n.Ay.spacing.xxxxxs],children:`.linkedin-field.__jsx-style-dynamic-selector{${l.pm}            background-color: ${e.fill===d?n.Ay.color.white:d};-webkit-border-radius:${n.Ay.spacing.xxxxxs};-moz-border-radius:${n.Ay.spacing.xxxxxs};border-radius:${n.Ay.spacing.xxxxxs}}`})]})},668061:(e,t,a)=>{a.d(t,{w:()=>m});var r=a(213218),s=a(587343),i=a(230658),n=a(325247),o=a(284750);class c extends Error{constructor(e){super(),this.name="WebsiteError",this.type=this.message=e;let{statusCode:t}=(0,o.P)(this.type);this.statusCode=t}}var l=a(419403),d=a(929143);let m=e=>{let t;if((0,s.lH)(d.env.DISABLE_REDIRECT_ON_LOAD_ERROR))return void console.error("\uD83D\uDD34 Error occurred when loading the page. Page is not redirected because of DISABLE_REDIRECT_ON_LOAD_ERROR flag. Hereâ€™s the error, if any:",e.error);let{authManager:a,error:o,signInUrl:m,config:u,ctx:y}=e,f=e=>{(0,l.w)({ctx:y,asPath:`${u.BASE_URL}${e}`,href:e})};if(!o||!o.code)return void f("/error?errType=story-load");let h=e.ctx?.pathname;switch(t=h?.includes("/collections/")?i.z.Collection:h?.includes("/themes/")?i.z.Theme:i.z.Story,o.code){case n.ZJ.ITEM_ACCESS_UNAUTHORIZED:if(a&&a.token)throw new r.D({type:"story-inaccessible",itemType:t});(0,l.w)({ctx:y,href:m,isExternal:!0});break;case n.ZJ.SUBSCRIPTION_CANCELED:case n.ZJ.SUBSCRIPTION_DISABLED:case n.ZJ.OWNER_SUBSCRIPTION_DISABLED:f("/error?errType=story-inaccessible");break;case n.ZJ.ITEM_NONEXISTENT_OR_INACCESSIBLE:throw new r.D({type:"story-not-found",itemType:t});case n.ZJ.APP_BLOCKED_FOR_ORG:throw new c("blocked-org");default:{let e=o?.response?.error?.code;if(403===e)throw new r.D({type:"story-inaccessible",itemType:t});if(400===e||404===e)throw new r.D({type:"story-not-found",itemType:t});throw new r.D({type:"story-load",itemType:t})}}}},680097:(e,t,a)=>{a.d(t,{r:()=>h});var r=a(406029),s=a(94588),i=a.n(s),n=a(455729),o=a(716450),c=a(54831),l=a(459358),d=a(153072),m=a(789016),u=a(178616),y=a(150547),f=a(419688);let h=e=>{let t=(0,n.useRef)(null),s=(0,n.useRef)(null),{theme:h,productVariables:p}=(0,o.df)(),{BASE_URL:x}=(0,d.UK)(),{isSafari:g}=(0,c.Ye)(),w=(0,y.A)(),{onError:b,data:A,size:L}=e,v=L??f.u0,S=v+2*(0,m.$u)((0,m.U)(l.Ay.spacing.xxxxs))+2,$=`${v}px`,_=`${S}px`,k=w("component.socialSharing.qrCode.aria"),C=`${x}/static/images/logo.png`;return(0,n.useEffect)(()=>{let e,r=()=>{if(t.current){let a=t.current.querySelector("canvas");if(a){let t=a.getContext("2d");Array.from(t.getImageData(0,0,a.width,a.height).data).some((e,t)=>t%4==3&&0!==e)?(clearTimeout(e),(0,u.FU)(t,"non-white")):e=setTimeout(r,100)}}};return(async()=>{try{{let{default:e}=await a.e(75894).then(a.t.bind(a,575894,23));if(!s.current&&(s.current=new e({width:1.2*v*window.devicePixelRatio,height:1.2*v*window.devicePixelRatio,data:A,image:C,imageOptions:{imageSize:.4,margin:5},dotsOptions:{type:"square"}}),g&&(await new Promise(e=>setTimeout(e,300)),s.current.update({image:C})),t.current)){s.current.append(t.current);let e=t.current.querySelector("canvas");e&&(e.tabIndex=0,e.setAttribute("role","img"),e.setAttribute("aria-label",k),r())}}}catch(e){console.error("QR code generation failed",e),b()}})(),()=>{t.current?.querySelector("canvas")?.remove(),clearTimeout(e)}},[x,v,k,b,A]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:t,className:i().dynamic([["d6623a742bb3ce6e",[$,$,_,h.colors.outlineSubduedDefault,l.Ay.spacing.xxxxs,p.borderRadius.regular]]])+" qr-container"}),(0,r.jsx)(i(),{id:"d6623a742bb3ce6e",dynamic:[$,$,_,h.colors.outlineSubduedDefault,l.Ay.spacing.xxxxs,p.borderRadius.regular],children:`.qr-container.__jsx-style-dynamic-selector canvas{width:${$};height:${$}}.qr-container.__jsx-style-dynamic-selector{height:${_};border:1px solid ${h.colors.outlineSubduedDefault};padding:${l.Ay.spacing.xxxxs};-webkit-border-radius:${p.borderRadius.regular};-moz-border-radius:${p.borderRadius.regular};border-radius:${p.borderRadius.regular};display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}`})]})}},760151:(e,t,a)=>{a.d(t,{j:()=>u});var r=a(406029),s=a(94588),i=a.n(s),n=a(332988),o=a.n(n),c=a(459358),l=a(638096);class d extends l.I{constructor(e){super(e,{iconName:"facebook",path:"M15.3214286,8.25 L13.8214286,8.25 C13.5964286,8.25 13.0714286,8.604 13.0714286,9 L13.0714286,10.5 L15.3214286,10.5 L15.3214286,12.75 L13.0714286,12.75 L13.0714286,18 L10.8214286,18 L10.8214286,12.75 L8.57142857,12.75 L8.57142857,10.5 L10.8214286,10.5 L10.8214286,9 C10.8214286,7.3455 12.2921786,6 13.8679286,6 L15.3214286,6 L15.3214286,8.25 Z",viewBox:"6 6 12 12"})}}var m=a(419688);let u=e=>{let t={styles:(0,r.jsx)(i(),{id:"44ed56c7c1b5b10",dynamic:[c.Ay.spacing.custom("0.2rem")],children:`.facebook.__jsx-style-dynamic-selector{-webkit-transform:scale(.8)translatey(${c.Ay.spacing.custom("0.2rem")});-moz-transform:scale(.8)translatey(${c.Ay.spacing.custom("0.2rem")});-ms-transform:scale(.8)translatey(${c.Ay.spacing.custom("0.2rem")});-o-transform:scale(.8)translatey(${c.Ay.spacing.custom("0.2rem")});transform:scale(.8)translatey(${c.Ay.spacing.custom("0.2rem")})}`}),className:i().dynamic([["44ed56c7c1b5b10",[c.Ay.spacing.custom("0.2rem")]]])};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:i().dynamic([["9234dbbea77bf433",[m.pm]]])+" facebook-field",children:(0,r.jsx)(d,{...e,className:o()("facebook",t.className)})}),(0,r.jsx)(i(),{id:"9234dbbea77bf433",dynamic:[m.pm],children:`.facebook-field.__jsx-style-dynamic-selector{${m.pm}            background-color: #1877f2}`}),t.styles]})}},874867:(e,t,a)=>{a.d(t,{D:()=>r});let r=e=>"string"==typeof e&&/^[a-zA-Z\d]{32}$/g.test(e)},914367:(e,t,a)=>{a.d(t,{L$:()=>f,Of:()=>m,_i:()=>d,b3:()=>u,eE:()=>y});var r=a(406029),s=a(390248),i=a(254033),n=a(724490),o=a(789016);let c=["play","speed","cover","header"],l=(e,t)=>{let a=window.open(e,"","toolbar=0,status=0,width=626,height=436");a&&(a.opener=null),i.A.trackEvent(i.A.Category.Story,i.A.Action.Story_SocialShare,t)},d=e=>{let t=e||(0,n.wz)(window.location.href,c);l(`https://www.facebook.com/sharer/sharer.php?u=${t}`,i.A.Name.Story_SocialShare_Facebook)},m=e=>{let t=e||(0,n.wz)(window.location.href,c);l(`https://www.linkedin.com/sharing/share-offsite/?url=${t}`,i.A.Name.Story_SocialShare_LinkedIn)},u=e=>{let{appTitle:t,itemUrl:a,hashtags:r,handle:s}=e,o=a||(0,n.wz)(window.location.href,c),d=r?`&hashtags=${r}`:"",m=s?`&via=${s}`:"",u=`text=${t}&url=${o}${d}${m}`;l(`https://twitter.com/intent/tweet?${u}`,i.A.Name.Story_SocialShare_Twitter)},y=async e=>{let{url:t,toast:a,itemType:n}=e;try{if(!t)throw Error("empty url");await (0,o.lW)(t),a.add({type:"success",title:(0,r.jsx)(s.A,{id:"component.socialSharing.linkSuccess"}),details:(0,r.jsx)(s.A,{id:"common.linkCopied"})})}catch(e){a.add({type:"error",title:(0,r.jsx)(s.A,{id:"builder.common.sorry"}),details:(0,r.jsx)(s.A,{id:`viewer.${n}.copyToClipboard.fail.description`})})}i.A.trackEvent(i.A.Category.Story,i.A.Action.Story_SocialShare,i.A.Name.Story_SocialShare_Link)},f=async e=>{let{longUrl:t,shouldUseShortUrl:a}=e;return a&&await (0,n.Up)(t)||t}}}]);